FROM node:16@sha256:4ad0c88a8f5441b820ee19a84fdcd16f3e9de9ebe9d6f4063396a043557ba16c

ARG GIT_SHA

WORKDIR /usr/src/app

COPY . .

ENV NODE_ENV=production
ENV PORT 4000
ENV GIT_SHA=${GIT_SHA}
EXPOSE ${PORT}

CMD ["npm", "start"]
